# SkipUFO_infra
SkipUFO Infra repository

# Получение доступа к внутренним ресурсам через ресурс с внешним доступом (DMZ?)
1. Создаем ключи для доступа ко внутренним ресурсам и ресурсу, через 
   который будет доступ ко внутренним ресурсам (не забываем, что с 
   внешнего должен быть доступ ко внутренним ресурсам)
2. Запускаем на локальной ОС tcp-forwarding
   ssh -i ~/.ssh/appuser -f -N -L 2222:<internal_ip>:22 appuser@<external_ip>
3. Для доступа используем команду
   ssh -p 2222 appuser@localhost

# Настройка алиаса соединения
  В файл ~/.ssh/config вносим информацию о подключении к внутреннему ресурсу
  Host     internal_otus # название внутреннего ресурса
  User     appuser       # имя пользователя, которым заходим на внутренний ресурс
  Port     2222          # порт для ssh-доступа
  HostName localhost     # имя хоста

# Настройка VPN

bastion_IP=35.228.89.200
someinternalhost_IP=10.166.0.3